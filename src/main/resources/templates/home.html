<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> Pedals Commerce </title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito" rel="stylesheet">

    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
<div>
    <!--    HEADER SECTION -->
    <header class="h-16 flex items-center max-w-[1200px] m-auto">
        <nav class="flex justify-between w-full px-6">
            <div class="flex items-center">
                <p class="text-xl font-semibold"><a href="/"> Pedals </a></p>
            </div>

            <ul class="flex">
                <li class="mr-8 flex items-center ">
                    <p class="text-base"><a href="/contact-support"> Contact Support </a></p>
                </li>

                <li class="mr-8 flex items-center">
                    <p class="text-base"><a href="/"> Try Bikes </a></p>
                </li>

                <li class="mr-8 flex items-center" sec:authorize="isAuthenticated()">
                    <p class="text-base">
                        <a href="/dashboard/profile">
                            Profile
                        </a>
                    </p>
                </li>

                <li sec:authorize="isAuthenticated()">
                    <a href="/login">
                        <button class="bg-[#3C5924;] px-6 h-12 rounded text-[#fff]">
                            Signout
                        </button>
                    </a>
                </li>

                <li sec:authorize="!isAuthenticated()">
                    <a href="/login">
                        <button class="bg-[#3C5924;] px-6 h-12 rounded text-[#fff]">
                            Management Console
                        </button>
                    </a>
                </li>
            </ul>
        </nav>
    </header>

    <!--    HERO SECTION -->
    <section class="bg-[#FBF9E9] h-[350px]">
        <div class="flex px-6 max-w-[1200px] m-auto h-full items-center">
            <div class="max-w-[550px]">
                <p class="text-3xl font-semibold"> Reliable E-Bikes You Can Trust </p>

                <p class="mt-4">
                    Delivering exceptional e-bike services and fostering a sustainable mobility for everyone.
                </p>

                <button class="mt-4 bg-[#3C5924;] w-[250px] h-12 rounded text-[#fff]">
                    Purchase A Bike
                </button>
            </div>

            <div>
                <img
                        alt="Hero Banner Bike"
                        src="https://res.cloudinary.com/dkfptto8m/image/upload/v1687810622/bike-cover.jpg"
                        class=""
                />
            </div>
        </div>
    </section>

    <!--  BIKES LIST  -->
    <section class="mt-6">
        <div class="px-6 max-w-[1200px] m-auto">
            <div class="mb-6">
                <p class="text-2xl"> All Available Bikes </p>
            </div>
            <ul id="bike-list" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr))"
                class="grid gap-20">
                <!-- Bikes will be populated here by JavaScript -->
            </ul>
        </div>
    </section>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        fetch('http://bike-pedal-refactoring.apps.ocpdemo.vega.local/api/bikes')
            .then(response => response.json())
            .then(data => {
                const bikeList = document.getElementById('bike-list');
                data.forEach(bike => {
                    const bikeItem = document.createElement('li');
                    bikeItem.innerHTML = `
                        <div class="border-2 w-[300px]">
                            <div class="w-full h-[150px] relative">
                                <img src="https://res.cloudinary.com/dkfptto8m/image/upload/v1687810622/bike-cover.jpg" class="w-full" alt="bike"/>
                                <div class="absolute right-0 top-0">
                                    <button class="bg-[#3C5924] text-sm w-full px-6 h-[30px] text-[#fff]">
                                        Contact Support
                                    </button>
                                </div>
                            </div>
                            <div class="p-4">
                                <div class="mb-4">
                                    <p>
                                        <span class="text-xl font-semibold mb-2">${bike.name}</span>
                                        <span class="text-gray-400 ml-1">(${bike.model})</span>
                                    </p>
                                    <div class="flex justify-between">
                                        <p class="text-lg">$${bike.price}</p>
                                        <div>
                                            <p><span class="font-semibold"> Warranty: </span> <span>${bike.warrantyStatus}</span></p>
                                        </div>
                                    </div>
                                </div>
                                <a href="/dashboard/order?bikeId=${bike.id}">
                                    <button class="bg-[#3C5924] w-full px-6 h-[40px] rounded text-[#fff]">
                                        Purchase Bike
                                    </button>
                                </a>
                            </div>
                        </div>
                    `;
                    bikeList.appendChild(bikeItem);
                });
            })
            .catch(error => console.error('Error fetching bikes:', error));
    });
</script>
</body>
</html>
